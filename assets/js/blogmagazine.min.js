/**
 * Main JavaScript file for the BlogMagazine theme.
 *
 * @package    dineshghimire
 * @subpackage blogmagazine
 * @author     Dinesh Ghimire <developer.dinesh1@gmail.com>
 * @license    https://www.gnu.org/licenses/gpl-3.0.txt
 * @link       https://dinesh-ghimire.com.np
 * @since      1.0.0
 */
!function(s){"use strict";var n=s(window),g=s(document),r={Snipits:{AppendHTML:function(){s("#site-navigation .menu-item-has-children").append('<span class="sub-toggle"> <i class="fa fa-angle-right"></i> </span>')},Sliders:function(){var e="rtl"==s("html").attr("dir"),a={item:1,loop:!0,auto:!0,speed:2e3,pause:6e3,pager:!1,rtl:e,controls:!0,vertical:!0,enableDrag:!1,enableTouch:!1,verticalHeight:35,adaptiveHeight:!0,prevHtml:'<i class="fa fa-angle-left"></i>',nextHtml:'<i class="fa fa-angle-right"></i>'};s(".blogmagazine-newsticker").each(function(){s(this).lightSlider(a)});var t={item:1,auto:!0,loop:!0,speed:2e3,pause:6e3,rtl:e,pager:!1,slideMargin:0,enableDrag:!1,enableTouch:!1,adaptiveHeight:!0,prevHtml:'<i class="fa fa-angle-left"></i>',nextHtml:'<i class="fa fa-angle-right"></i>'};s(".blogmagazine-featured-main-slider").each(function(){s(this).lightSlider(t)});var i=s(".blogmagazine-post-format-slider");if(i.length){var l={item:1,auto:!0,loop:!0,rtl:e,speed:2e3,pause:6e3,pager:!1,slideMargin:0,controls:!0,pauseOnHover:!0,adaptiveHeight:!0,prevHtml:'<i class="fa fa-angle-left"></i>',nextHtml:'<i class="fa fa-angle-right"></i>'};i.lightSlider(l)}s(".blogmagazine-block-carousel").each(function(){var e=s(this).data("config");s(this).closest(".sidebar-main, .middle-aside, .footer_column_4").length&&(e.item=1),e.responsive=[{breakpoint:991,settings:{item:3<e.item?3:e.item,slideMove:1}},{breakpoint:840,settings:{item:2<e.item?2:e.item,slideMove:1}},{breakpoint:480,settings:{item:1,slideMove:1}}],s(this).closest(".sidebar-main").length&&(e.item=1);var a=s(this).lightSlider(e);a.closest(".widget").find(".dglib-carousel-control").on("click",function(e){s(this).hasClass("dglib-nav-prev")?a.goToPrevSlide():a.goToNextSlide()})})},Title_Tab_Toggle:function(e){var a=s(this).closest(".blogmagazine-block-title, .widget-title"),t=a.find(".wdgt-tab-toggle .fa");t.hasClass("fa-angle-up")?(t.removeClass("fa-angle-up").addClass("fa-angle-down"),a.find(".wdgt-title-tabs").removeClass("show-tabs")):(t.removeClass("fa-angle-down").addClass("fa-angle-up"),a.find(".wdgt-title-tabs").addClass("show-tabs"))},Widget_Title_Tab:function(e){e.preventDefault();var a=s(this);if(!a.closest(".wdgt-tab-term").hasClass("active-item")){var l=a.closest(".wdgt-title-tabs");if(1!=l.attr("data-loading")){var t=a.data("tab"),n=(a.closest(".blogmagazine-block-title, .widget-title"),a.closest(".widget"));if(l.find(".wdgt-tab-term").removeClass("active-item"),a.closest("li").addClass("active-item"),n.find(".blogmagazine-block-posts-wrapper").removeClass("tab-active"),n.find("."+t).length)n.find("."+t).addClass("tab-active");else{var i=s(this).data("ajax-args");i.beforeSend=function(){l.attr("data-loading",1),n.find(".blgmg-wdgt-preloader").removeClass("hidden")},i.success=function(e,a,t){l.attr("data-loading",0),n.find(".blgmg-wdgt-preloader").addClass("hidden");var i=e.widget_html;i?n.find(".dglib-tab-alldata").after(i):console.warn("Sorry faild to retrive widget html data on ajax call")},i.fail=function(e,a,t){l.attr("data-loading",0),console.warn("Sorry faild to call widget tab ajax.")},s.ajax(i)}}}},StickyMenu:function(){if("function"==typeof s().sticky){var e=jQuery("#wpadminbar");e.length?jQuery("#blogmagazine-menu-wrap").sticky({topSpacing:e.height()}):jQuery("#blogmagazine-menu-wrap").sticky({topSpacing:0})}},DisplayScrollTop:function(){1e3<n.scrollTop()?s("#blogmagazine-scrollup").fadeIn("slow"):s("#blogmagazine-scrollup").fadeOut("slow")},SubmenuToggle:function(){s(this).parent(".menu-item-has-children").children("ul.sub-menu").first().slideToggle("1000"),s(this).children(".fa-angle-right").first().toggleClass("fa-angle-down")},SearchToggle:function(){s(".search-form-main").toggleClass("active-search"),s(".search-form-main .search-field").focus()},NavigationToggle:function(){s("#site-navigation").slideToggle("slow")},TabbedWidget:function(e){if(s(this).closest("li").hasClass("active-item"))e.preventDefault();else{var a=s(this).attr("href"),t=s(this).closest(".blogmagazine-default-tabbed-wrapper");t.find("li").removeClass("active-item"),s(this).closest("li").addClass("active-item"),t.find(".blogmagazine-tabbed-section").removeClass("active"),s(a).addClass("active"),e.preventDefault()}},ScrollUp:function(){return s("html, body").animate({scrollTop:0},600),!1}},Events:function(){var e=r.Snipits,a=e.Widget_Title_Tab;g.on("click",".dgwidgt-title-tab",a);var t=e.Title_Tab_Toggle;g.on("click",".wdgt-tab-toggle, .dgwidgt-title-tab",t);var i=e.ScrollUp;g.on("click","#blogmagazine-scrollup",i);var l=e.SearchToggle;g.on("click",".blogmagazine-header-search-wrapper .search-main",l);var n=e.NavigationToggle;g.on("click",".blogmagazine-header-menu-wrapper .menu-toggle",n);var s=e.SubmenuToggle;g.on("click","#site-navigation .sub-toggle",s);var o=e.TabbedWidget;g.on("click",".blogmagazine-widget-tab a",o)},Ready:function(){var e=r,a=e.Snipits;a.AppendHTML(),a.StickyMenu(),a.Sliders(),e.Events()},Load:function(){},Resize:function(){},Scroll:function(){r.Snipits.DisplayScrollTop()},Init:function(){var e=r,a=e.Ready,t=e.Load,i=e.Resize,l=e.Scroll;g.ready(a),n.load(t),n.resize(i),n.scroll(l)}};r.Init()}(jQuery);